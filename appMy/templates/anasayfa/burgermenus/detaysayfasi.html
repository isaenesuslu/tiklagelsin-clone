<!DOCTYPE html> 
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
        <!-- Font Awesome -->
        <link
        rel="stylesheet"
        data-purpose="Layout StyleSheet"
        title="Web Awesome"
        href="/css/app-wa-9846671ed7c9dd69b10c93f6b04b31fe.css?vsn=d"
      >
    
        <link
          rel="stylesheet"
          href="https://site-assets.fontawesome.com/releases/v6.5.1/css/all.css"
        >
    
        <link
          rel="stylesheet"
          href="https://site-assets.fontawesome.com/releases/v6.5.1/css/sharp-thin.css"
        >
    
        <link
          rel="stylesheet"
          href="https://site-assets.fontawesome.com/releases/v6.5.1/css/sharp-solid.css"
        >
    
        <link
          rel="stylesheet"
          href="https://site-assets.fontawesome.com/releases/v6.5.1/css/sharp-regular.css"
        >
    
        <link
          rel="stylesheet"
          href="https://site-assets.fontawesome.com/releases/v6.5.1/css/sharp-light.css"
        >
    
        <!-- Google Fonts -->
        <link
          href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
          rel="stylesheet"
        />
        <!-- MDB -->
        <link
          href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.min.css"
          rel="stylesheet"
        />
        
 
        <link rel="stylesheet" href="{% static 'template.css' %}">
        <link rel="stylesheet" href="{% static 'footer.css' %}">
        <link rel="stylesheet" href="{% static 'footerheader.css' %}">
        
        <style>
          *{
            box-sizing: border-box !important;
          }
            .header-panel{
                background-color: white;
                border-radius: 20px 20px 0;
                text-align: center;
                margin-top: .5rem;
                padding: 1rem;
                border-color: #fff6e3;
                box-shadow: 0 0 8px 2px rgba(0,0,0,.15);
            }
            .col-lg-5, .col-lg-7{
                position: relative;
                width: 100%;
                padding-left: 15px;
                padding-right: 15px;
            }
            .urun-div{
                width: 445px;
                height: 570px;

            }
            .header-panel .urun-title{
                display: flex;
                flex-direction: row;
                justify-content: space-between;
            }
            .header-panel .urun-title .title{
                font-size: 20px;
                font-weight: 700;
                color: #333;
                text-align: left;
                float: left;
            }
            .urun-text{
                font-size: 14px;
                font-weight: 500;
                color: #333;
                text-align: left;
            }
            .header-panel .urun-text .urun-content{
              margin: .5rem 0 .5rem;
            }
           .header-panel .urun-text .urun-content .urun-item {
              color: #333;
              display: flex !important;
              font-size: 14px;
              text-align: left !important;
              font-weight: 500;
            }
            .header-panel .urun-text .urun-content .urun-item i{
              font-size: 16px;
              margin-right: .3rem;
            }
            .urun-cart-add .container{
              display: flex;
              justify-content: space-between;
              flex-direction: row;
              align-items: center ;
              padding: 0;
            }
            .ekle-sil-text{
              text-align: center;
              width: 1rem;
              font-size: 20px;
              color: #333;
              font-weight: 700;
              padding: 8px;
            }
            .btn-danger{
              font-size: 16px;
              border-radius: 10px;
              background-color:  red;
              padding: 7px;
              text-transform: capitalize;
              cursor: pointer !important;
            }
            .btn-danger:hover{
              background-color: #BA1729;
            }
            .option{
                padding-bottom: 1rem;
            }
            .option:first-child{
              margin-top: 0.5rem;
            }
            .option-panel{
              margin-top: 1.5rem;
              pointer-events: none;
              
            }
            .option-panel h2{
              color: #333;
              font-weight: 700;
              background-color: #F2F2F2;
              border-top-left-radius: 20px;
              border-top-right-radius: 20px;
              padding: 12px 16px 16px;
              margin: 0 0 -8px;
            }
            .option-panel .panel-title{
              color: #333;
              font-weight: 700;
              margin: 0;
            }
            .panel-title{
              font-size: 16px !important;
            }
            .option-panel .panel-body{
              padding: 16px;
              box-shadow: 0 0 8px 2px rgba(0,0,0,.15);
            }
            .row .input{
              display: flex;
            }
            .form-check-input{
              margin-top: 2px !important;
            }
            .ekle-eksilt .buton{
              background-color: white !important;
            }
            .option-panels-2{
              display: flex;
              flex-direction: row;
              justify-content: space-between;
              align-items: center;
              color: #333 !important;
              border-bottom: 1px solid #f2f2f2;
              border-top: 1px solid #f2f2f2;
              padding: 1rem 0px;
            }
            .panel-body{
              border-bottom-left-radius: 20px;
              border-bottom-right-radius: 20px;
              padding: 10px 20px 24px!important;
            }
            .form-select option{
              color: #333 !important;
              font-size: 18px;
            }
            
        </style>

</head>
<body>
  <!-- HEADER BAŞLANGIÇ -->
  {% include 'partials/anasayfa/_navbar.html' %}
  <!-- HEADER BİTİŞ -->

<!-- SOL KISIMDAKİ MENÜNÜ KARTININ DETAYLARI.  -->
      <div class="container" style="padding: 20px;">
        <div class="container-inner" >
            <nav class="inner-container-menu">
                <ol class="container-item">
                    <li class="cont-item">
                        <a href="../anasayfa.html">Anasayfa</a>
                        <i style="margin-left: 0.5rem; margin-right: 0.5rem;" class="fa-thin fa-chevron-right"></i>
                    </li>
                    <li class="cont-item" style="text-decoration: underline; cursor: pointer; color: #666;">
                        <a href="burgerking.html"> <span style="cursor: pointer;">Burger King®</span> </a>
                      <i style="margin-left: 0.5rem; margin-right: 0.5rem;" class="fa-thin fa-chevron-right"></i>
                    </li>
                    <li class="cont-item">
                        <span>Menü</span> 
                      </li>
                </ol>
            </nav>
        </div>
        <div class="row d-flex" style="width: 1140px;" >
          <div class="col-lg-5 d-flex" style="width: 475px; height: 570;">
            <div class="urun-div">
                <div class="header-panel">
                    <div class="urun-title">
                        <h1 id="title" class="title">
                            {{title}} 
                        </h1>
                    </div>
                    <div class="urun-text">
                        <span id="description" class="mb-1" style="text-align: left;">
                            {{marka}} {{description}}
                        </span>
                        <div class="mb-3">
                          <span id="additionalInfo">
                            {{additionalInfo}} 
                        </span>
                    <div class="urun-image">
                        <img id="image" style="max-width: 100% !important; max-height: 100%; vertical-align: middle; margin: 0 0 8px;" src="" alt="">
                    </div>
                    <div class="urun-content row">
                      <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                        <div class="urun-item">
                          <i class="fa-solid fa-burger"></i>
                        <span id="icerik1">
                          {{icerik1}}
                        </span>
                        </div>
                      </div>
                      <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                        <div class="urun-item">
                                  <i class="fa-sharp fa-solid fa-french-fries"></i>
                                  <span id="icerik2">{{icerik2}}</span>
                                </div>
                              </div>
                              <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                                <div class="urun-item">
                                  <i class="fa-duotone fa-cup-togo"></i>
                                  <span id="icerik3">{{icerik3}}</span>
                                </div>
                              </div>
                              <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                                <div class="urun-item">
                                  <i class="fa-regular fa-wine-bottle"></i>
                                  <span id="icerik4">{{icerik4}}</span>
                                </div>
                              </div>
                          </div>
                        </div>
                        <hr>
                        <div class="urun-cart-add">
                          <div class="container d-flex" >
                            <span class="price-text" id="price">
                               {{price}}
                            </span>
                            <div class="d-flex cart-right">
                              <div class="ekle-eksilt">
                                <button type="button" class="buton" style="border: 0; cursor: pointer;" onclick="eksilt()">
                                  <i style="font-size: 24px;" class="fa-light fa-circle-minus"></i>
                                </button>
                                <span id="quantity" class="ekle-sil-text">1</span>
                                <button type="button" class="me-4 buton" style="border: 0; cursor: pointer;" onclick="arttir()">
                                  <i style="font-size: 24px;" class="fa-regular fa-circle-plus"></i>
                                </button>
                                <button type="button" class="btn btn-danger" data-mdb-ripple-init onclick="addToCart('{{ product.title }}', '{{ totalPrice }}')">Sepete Ekle</button>
                              </div>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<!-- SOL KISIMDAKİ MENÜNÜ KARTININ DETAYLARI BİTİŞ  -->


        <!-- SAĞDAKİ MENÜLERİN SEÇME VE SEÇİMİ KALDIRMA KISMI BAŞLANGIÇ MENÜDEN MENÜYE DEĞİŞİKLİK GÖSTERİYOR. BACKEND YAPILACAK (ELLEME) -->
        <div class="option col-lg-7 " style="width: 665px; height: fit-content;">
          <div class="option-panel">
            <h2 class="panel-title">Sandviç</h2>
            <div class="panel-body">
              <select class="form-select" aria-label="Default select ">
                <option selected value="0">Tavukburger®</option>
              </select>
              <div class="option-item-panel">
                <div class="option-panel">
                  <div class="option-panel-body">
                      <div class="option-panels-1">
                        <div class="option-panels-2">
                          <b>Peynir</b>
                          <div style="font-weight: 700;" id="infoText1"></div>
                          <div class="d-flex cart-right">
                            <div class="ekle-eksilt">
                              <button type="button" class="buton" style="border: 0; cursor: pointer;" onclick="changePeynir1Quantity('decrease')">
                                  <i style="font-size: 20px;" class="fa-light fa-circle-minus"></i>
                              </button>
                              <span id="quantityPeynir1" class="ekle-sil-text">0</span>
                              <button type="button" class="me-4 buton" style="border: 0; cursor: pointer;" onclick="changePeynir1Quantity('increase')">
                                  <i style="font-size: 20px;" class="fa-regular fa-circle-plus"></i>
                              </button>
                          </div>
                          </div>
                        </div>
                        <div class="panel-title">Garnitür</div>
                        <div class="row">
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkboxNoLabel1" value="" aria-label="...">
                                <label for="checkboxNoLabel1" onclick="toogleCheckBox()" for="">Domates</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox9" value="" aria-label="...">
                                <label for="checkbox9" onclick="toogleCheckBox('checkbox9')" for="">Göbek Salata</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox10" value="" aria-label="...">
                                <label for="checkbox10" onclick="toogleCheckBox('checkbox10')" for="">Soğan</label>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox11" value="" aria-label="...">
                                <label for="checkbox11" onclick="toogleCheckBox('checkbox11')" for="">Turşu</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox12" value="" aria-label="...">
                                <label for="checkbox12" onclick="toogleCheckBox('checkbox12')" for="">Ketçap</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox13" value="" aria-label="...">
                                <label for="checkbox13" onclick="toogleCheckBox('checkbox13')" for="">Mayonez</label>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox14" value="" aria-label="...">
                                <label for="checkbox14" onclick="toogleCheckBox('checkbox14')" for="">Acı Sos</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox15" value="" aria-label="...">
                                <label for="checkbox15" onclick="toogleCheckBox('checkbox15')" for="">Hardal</label>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="option-panel">
            <h2 class="panel-title">Sandviç</h2>
            <div class="panel-body">
              <select class="form-select" aria-label="Default select ">
                <option selected value="0">Tavukburger®</option>
              </select>
              <div class="option-item-panel">
                <div class="option-panel">
                  <div class="option-panel-body">
                      <div class="option-panels-1">
                        <div class="option-panels-2">
                          <b>Peynir</b>
                          <div style="font-weight: 700;" id="infoText2"></div>
                          <div class="d-flex cart-right">
                            <div class="ekle-eksilt">
                              <button type="button" class="buton" style="border: 0; cursor: pointer;" onclick="changePeynir2Quantity('decrease')">
                                  <i style="font-size: 20px;" class="fa-light fa-circle-minus"></i>
                              </button>
                              <span id="quantityPeynir2" class="ekle-sil-text">1</span>
                              <button type="button" class="me-4 buton" style="border: 0; cursor: pointer;" onclick="changePeynir2Quantity('increase')">
                                  <i style="font-size: 20px;" class="fa-regular fa-circle-plus"></i>
                              </button>
                          </div>
                          </div>
                        </div>
                        <div class="panel-title">Garnitür</div>
                        <div class="row">
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkboxNoLabel" value="" aria-label="...">
                                <label for="checkboxNoLabel" onclick="toogleCheckBox()" for="">Domates</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox1" value="" aria-label="...">
                                <label for="checkbox1" onclick="toogleCheckBox('checkbox1')" for="">Göbek Salata</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox2" value="" aria-label="...">
                                <label for="checkbox2" onclick="toogleCheckBox('checkbox2')" for="">Soğan</label>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox4" value="" aria-label="...">
                                <label for="checkbox4" onclick="toogleCheckBox('checkbox4')" for="">Turşu</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox5" value="" aria-label="...">
                                <label for="checkbox5" onclick="toogleCheckBox('checkbox5')" for="">Ketçap</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox6" value="" aria-label="...">
                                <label for="checkbox6" onclick="toogleCheckBox('checkbox6')" for="">Mayonez</label>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox7" value="" aria-label="...">
                                <label for="checkbox7" onclick="toogleCheckBox('checkbox7')" for="">Acı Sos</label>
                              </span>
                            </div>
                          </div>
                          <div class="col-lg-4 col-6">
                            <div style="width: 181px; height: 25px;">
                              <span class="input">
                                <input class="form-check-input" type="checkbox" id="checkbox8" value="" aria-label="...">
                                <label for="checkbox8" onclick="toogleCheckBox('checkbox8')" for="">Hardal</label>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <div class="option-panel" data-type="patates">
          <h2 class="panel-title mb-0">Patetes Seçimi</h2>
          <div class="panel-body">
            <select class="form-select" aria-label="Default select" onchange="updateMenu('patates')" >
              <option selected value="0">Patates Kızartması (Orta)</option>
              <option value="0">Tırtıklı Patates (Orta)</option>
              <option value="10">Patates Kızartması (Büyük) + 10 TL</option>
              <option value="10">Tırtıklı Patates (Büyük) + 10 TL</option>
              <option value="12">Patates Kızartması (King) + 12 TL</option>
              <option value="12">Tırtıklı Patates (King) + 12 TL</option>
              <option value="20">Patates Kızartması (Kova) + 20 TL</option>
              <option value="20">Tırtıklı Patates (Kova) + 20 TL</option>
              <option value="32">Patates Kızartması (Dev Kutu) + 32 TL</option>
              <option value="32">Tırtıklı Patates (Dev Kutu) + 32 TL</option>
            </select>
            <div class="option-item-panel">
            </div>
          </div>
      </div>
        <div class="option-panel" data-type="icecek">
          <h2 class="panel-title mb-0">İçecek</h2>
          <div class="panel-body">
            <select class="form-select" aria-label="Default select " onchange="updateMenu('icecek')" >
              <option selected value="0">Coca - Cola Zero Sugar (33 ml.)</option>
              <option value="0">Coca - Cola (33 cl.)</option>
              <option value="0">Coca - Cola Light (33 cl.)</option>
              <option value="0">Fuse Tea Limon (33 cl.)</option>
              <option value="0">Fuse Tea Şeftali (33 cl.)</option>
              <option value="0">Fanta (33 cl.)</option>
              <option value="0">Sprite (33 cl.)</option>
              <option value="0">Ayran (20 cl.)</option>
              <option value="4">Ayran (30 cl.) + 4 TL</option>
              <option value="8">Coca - Cola Zero Sugar (1 L.) + 8 TL</option>
              <option value="8">Coca - Cola (1 L.) + 8 TL</option>
              <option value="8">Coca - Cola Light (1 L.) + 8 TL</option>
              <option value="8">Fuse Tea Limon (1 L.) + 8 TL</option>
              <option value="8">Fuse Tea Şeftali (1 L.) + 8 TL</option>
              <option value="8">Fanta (1 L.) + 8 TL</option>
              <option value="8">Sprite (1 L.) + 8 TL</option>
              <option value="0">Su (0,5 L.)</option>
            </select>
            <div class="option-item-panel">
            </div>
          </div>
      </div>
        <div class="option-panel" data-type="sossecim">
          <h2 class="panel-title mb-0">Sos Seçimi</h2>
          <div class="panel-body">
            <select class="form-select" aria-label="Default select " onchange="updateMenu('sossecim')" >
              <option selected value="0">Ketçap</option>
              <option value="0">Acı Sos</option>
              <option value="0">Sarımsaklı Mayonez</option>
              <option value="0">Mayonez</option>
              <option value="2">Acı Hardal + 2 TL</option>
              <option value="0">Sos İstemiyorum</option>
            </select>
            <div class="option-item-panel">
            </div>
          </div>
      </div>
        <div class="option-panel" data-type="promosyon">
          <h2 class="panel-title mb-0">Promosyon</h2>
          <div class="panel-body">
            <select class="form-select" aria-label="Default select " onchange="updateMenu('promosyon')" >
              <option selected value="0">Promosyon İstemiyorum</option>
              <option value="19">Soğan Halkası (8'li) + 19 TL</option>
              <option value="22">Soğan Halkası (12'li) + 22 TL</option>
              <option value="24">Soğan Halkası (16'li) + 24 TL</option>
              <option value="28">BK King Nuggets® (6'lı) + 28 TL</option>
              <option value="35">BK King Nuggets® (9'lı) + 35 TL</option>
              <option value="35">Çıtır Peynir (3'lü) + 35 TL </option>
              <option value="38">Çıtır Çıtır Atıştır + 38 TL </option>
              <option value="25">Chicken Tenders® (6'lı) + 25 TL</option>
              <option value="40">Cheese Burger + 40 TL</option>
            </select>
            <div class="option-item-panel">
            </div>
          </div>
         </div>
        <div class="option-panel" data-type="promosyontatli">
          <h2 class="panel-title mb-0">Promosyon Tatlı</h2>
          <div class="panel-body">
            <select class="form-select" aria-label="Default select " onchange="updateMenu('promosyontatli')" >
              <option selected value="0">Promosyon Tatlı İstemiyorum</option>
              <option value="33">Dondurmalı Çikolatalı Sufle + 33 TL</option>
              <option value="27">Çikolatalı Sufle + 27 TL</option>
              <option value="13">Elmalı Tatlı + 13 TL</option>
              <option value="13">Vişneli Tatlı + 13 TL</option>
              <option value="14">Çikolatalı Cookie + 14 TL</option>
              <option value="14">Çikolata Parçacıklı Cookie + 14 TL </option>
              <option value="25">Bkool® Limon Soslu + 25 TL </option>
              <option value="25">Bkool® Çikolata Parçacıklı + 25 TL</option>
              <option value="28">Algida Carte d'Or Mini Cup Çikolata Karnavalı (110 ml.) + 28 TL</option>
              <option value="28">Algida Carte d'Or Mini Cup Çilekli Yoğurtlu (110 ml.) + 28 TL</option>
              <option value="28">Algida Carte d'Or Mini Cup Meyve Rüyası (110 ml.) + 28 TL</option>
              <option value="28">Algida Maraş Usulü Cup Dondurma (100 ml.) + 28 TL</option>
              <option value="28">Algida Classics Cookie Cup (105 ml.) + 28 TL</option>
              <option value="28">Algida Mini Nogger (60 ml.) + 28 TL</option>
              <option value="30">Magnum Mini Düet Kırmızı Meyve + 30 TL</option>
              <option value="30">Algida Magnum Mini Cookie (58 ml.) + 30 TL</option>
              <option value="70">Algida Maraş Usulü Sade Dondurma (500 ml.) + 70 TL</option>
              <option value="55">Algida Frigola (570 ml.) + 55 TL</option>
            </select>
            <div class="option-item-panel">
            </div>
          </div>
        </div>
    </div>
  </div>
</div>
        <!-- SAĞDAKİ MENÜLERİN SEÇME VE SEÇİMİ KALDIRMA KISMI BİTİŞ  -->


    
    
    <!-- FOOTER BAŞLANGIÇ -->
      {% include 'partials/anasayfa/_footer.html' %}
     <!-- FOOTER BİTİŞ -->


    <script>

        function getMenuDataFromStorage() {
          return JSON.parse(localStorage.getItem('selectedMenu'));
        }
      
        var selectedMenu = getMenuDataFromStorage();
      
      
        // KARTLARIN DOĞRU DÜRÜST ÇALIŞABİLMESİ İÇİN YAZILAN KOD BLOĞU
      var activeMenuLink = null;
    
      function toggleCheckBox(checkboxId) {
        var checkbox = document.getElementById(checkboxId);
        checkbox.checked = !checkbox.checked;
      }
    
      document.addEventListener("DOMContentLoaded", function () {
        var checkbox = document.getElementById('checkboxNoLabel');
        checkbox.checked = true;
      });




    // KART BAŞLANGIÇ ------------------------------------
      function generateProductDetails(product) {
        return `
          <div class="col-lg-5 d-flex" style="width: 475px; height: 570;">
            <!-- ... diğer içerik ... -->
            <div class="urun-div">
              <div class="header-panel">
                <div class="urun-title">
                  <h1 id="title" class="title">
                  ${product.title} <b> | ${product.additionalInfo}</b>
                  </h1>
                </div>
                <div class="urun-text">
                  <span id="price" class="mb-1" style="text-align: left;">
                    ${product.marka} ${product.description}
                  </span>
                  <div class="mb-3">
                    <div class="urun-image">
                      ${product.image}
                    </div>
                    <div class="urun-content row">
                      <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                        <div class="urun-item">
                          <i class="fa-solid fa-burger"></i>
                        <span id="icerik1">
                          ${product.icerik1}
                        </span>
                        </div>
                      </div>
                      <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                        <div class="urun-item">
                          <i class="fa-solid fa-burger"></i>
                        <span id="icerik2">
                          ${product.icerik2}
                        </span>
                        </div>
                      </div>
                      <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                        <div class="urun-item">
                          <i class="fa-solid fa-burger"></i>
                        <span id="icerik3">
                          ${product.icerik3}
                        </span>
                        </div>
                      </div>
                      <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                        <div class="urun-item">
                          <i class="fa-solid fa-burger"></i>
                        <span id="icerik4">
                          ${product.icerik4}
                        </span>
                        </div>
                      </div>
                    </div>    
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
      }
      // burgerking.htmlden çekilen ürünlerin yerine yazılmasını sağlayan kod bloğu. ELLEME
      document.addEventListener('DOMContentLoaded', function () {
       showProductDetails();
     });
    // KARTLARIN DOĞRU DÜRÜST ÇALIŞABİLMESİ İÇİN YAZILAN KOD BLOĞU BİTİŞİ


// İçeriklerin çekildiği kısım -------------------
var urlParams = new URLSearchParams(window.location.search);
var title = urlParams.get('title');
var category = urlParams.get('category');
var description = urlParams.get('description');
var additionalInfo = urlParams.get('additionalInfo');
var image = urlParams.get('image');
var icerik1 = urlParams.get('icerik1');
var icerik2 = urlParams.get('icerik2');
var icerik3 = urlParams.get('icerik3');
var icerik4 = urlParams.get('icerik4');
var price = parseFloat(urlParams.get('price'));
function formatPrice(price) {
  return parseInt(price).toLocaleString('tr-TR') + '.00 TL';
}

  function showProductDetails() {

  
      document.getElementById('title').innerText = 'Burger King® - ' + title + ' | Tıkla Gelsin';
      document.getElementById('description').innerText = description;
      document.getElementById('additionalInfo').innerText = additionalInfo;
      document.getElementById('icerik1').innerText = icerik1;
      document.getElementById('icerik2').innerText = icerik2;
      document.getElementById('icerik3').innerText = icerik3;
      document.getElementById('icerik4').innerText = icerik4;

      var menuPrice = parseFloat(document.getElementById('price').textContent);
  
      // Price'ın değerini kontrol et ve undefined değilse fiyatı göster
      if (price !== undefined) {
        document.getElementById('price').innerText = formatPrice(price);
    } else {
        document.getElementById('price').innerText = 'Fiyat bilgisi bulunamadı';
    }
  
      var imageElement = document.getElementById('image');
  
      if (image) {
          imageElement.src = image;
      } else {
          imageElement.src = 'varsayilan-resim-yolu.jpg';
      }
  
      console.log('Image:', image);
      console.log('İÇERİK1:', icerik1);
      console.log('Title: ', title)
      console.log(price)
  }
// İçeriklerin Çekildiği Kısım -------------------------------
function getCheeseQuantity(cheeseType) {
// Her bir peynir tipinin miktarını al
var quantityElement = document.getElementById('quantity' + cheeseType.charAt(cheeseType.length-1));
return parseInt(quantityElement.textContent) || 0;
}

  var quantity = 1;
  var basePrice = price;
  var peynirTotalPrice = 5.00;
  var cheesePricePerUnit1 = 5.00;
  var cheesePricePerUnit2 = 5.00;
  var menuPrice = basePrice * quantity;
  var previousSelectionsTotalPrice = menuPrice;
  var optionTypePrices = {};  // Her bir optionType için toplam fiyatı takip etmek için
  var selectedOptions = [];  // Tüm seçimleri takip etmek için




  
/* BURASI MENÜ VE PEYNİR ARTTIRMA AZALTMA */



function arttir() {
quantity++;
updateDisplay();
}

function eksilt() {
if (quantity > 1) {
  quantity--;
  updateDisplay();
}
}

function initializePage() {
updatePeynirQuantity('peynir1', 'decrease', 'infoText1', 'quantityPeynir1', cheesePricePerUnit1);
updatePeynirQuantity('peynir2', 'decrease', 'infoText2', 'quantityPeynir2', cheesePricePerUnit2);
}
initializePage();


function changePeynir1Quantity(operation) {
changeQuantity('peynir1', operation);
updatePeynirQuantity('peynir1', operation, 'infoText1', 'quantityPeynir1', cheesePricePerUnit1);
}

function changePeynir2Quantity(operation) {
changeQuantity('peynir2', operation);
updatePeynirQuantity('peynir2', operation, 'infoText2', 'quantityPeynir2', cheesePricePerUnit2);
}


function changeQuantity(optionType, operation) {
var optionTypeTotalPrice = optionTypePrices[optionType] || 0;

if (operation === 'increase') {
  optionTypeTotalPrice += getCheesePrice(optionType);
} else if (operation === 'decrease') {
  optionTypeTotalPrice -= getCheesePrice(optionType);

  // Negatif değerleri engellemek için kontrol ekle
  if (optionTypeTotalPrice < 0) {
    optionTypeTotalPrice = 0;
  }
}

// Güncellenen fiyatı optionTypePrices'a kaydet
optionTypePrices[optionType] = optionTypeTotalPrice;

// Sayfadaki görüntüyü güncelleyin
updateDisplay();
}
function updateTotalPrice() {
var totalPrice = basePrice * quantity;

// Her bir peynirin fiyatını toplam fiyata ekle
totalPrice += peynirPricePerUnit1 * parseInt(document.getElementById('quantityPeynir1').textContent);
totalPrice += peynirPricePerUnit2 * parseInt(document.getElementById('quantityPeynir2').textContent);

// Menü fiyatını güncelle
document.getElementById('totalPrice').innerText = formatPrice(totalPrice);
}

function updatePeynirQuantity(optionType, operation, infoTextId, quantityId, cheesePricePerUnit) {
var quantityElement = document.getElementById(quantityId);

if (!quantityElement) {
    console.error('Quantity bulunamadı' + optionType);
    return;
}

var currentQuantity = parseInt(quantityElement.textContent) || 0;

// Maksimum peynir sayısını kontrol et
if (operation === 'increase' && currentQuantity < 9) {
    currentQuantity++;
} else if (operation === 'decrease' && currentQuantity > 0) {
    currentQuantity--;
}

quantityElement.textContent = currentQuantity;

var infoTextElement = document.getElementById(infoTextId);

if (!infoTextElement) {
    console.error('Infotext bulunamadı' + optionType);
    return;
}

var totalPrice = (cheesePricePerUnit * currentQuantity).toFixed(2);

if (currentQuantity > 0) {
    infoTextElement.textContent = "+ " + totalPrice + " TL";
} else {
    infoTextElement.textContent = "";  // Miktar 0 ise boş bırak
}

// Menü fiyatını güncelle
updateTotalPrice();
}

function getCheesePrice(optionType) {
// Her bir peynir tipinin fiyatını döndür
if (optionType === 'peynir1') {
  return 5.00;  
} else if (optionType === 'peynir2') {
  return 5.00;  
}

return 0;  
}

function calculateOptionPrice(optionType) {
  var selectedOptionElements = document.querySelectorAll('.form-select[data-type="' + optionType + '"] option:checked');
  var totalPrice = 0;
  
  selectedOptionElements.forEach(function(option) {
      var optionPrice = parseFloat(option.value);
      if (!isNaN(optionPrice) && optionPrice > 0) {
          totalPrice += optionPrice;
      }
  });

  return totalPrice; // Toplam fiyatı döndür
}


function getSelectedOptionsText() {
  var selectedOptionsText = "";
  var optionPanels = document.querySelectorAll('.option-panel');
  optionPanels.forEach(function(panel) {
    var selectedOptions = panel.querySelectorAll('option:checked');
    selectedOptions.forEach(function(option) {
      selectedOptionsText += option.textContent.trim() + ", ";
    });
  });
  // Son virgülü kaldır
  selectedOptionsText = selectedOptionsText.slice(0, -2);
  return selectedOptionsText;
}


function getAllSelectedOptions() {
var allSelectedOptions = [];
var optionTypes = ['patates', 'icecek', 'sossecim', 'promosyon', 'promosyontatli'];

optionTypes.forEach(function (optionType) {
  var selectedOptions = getSelectedOptions(optionType);
  allSelectedOptions = allSelectedOptions.concat(selectedOptions);
});

return allSelectedOptions;
}


function updateMenu(optionType) {
var currentOptions = getSelectedOptions(optionType);

if (currentOptions.length > 0) {
  var optionTypeTotalPrice = currentOptions.reduce(function(acc, option) {
    var optionParts = option.split('-');
    if (optionParts.length >= 2) {
      var optionPrice = parseFloat(optionParts[1].trim());
      if (!isNaN(optionPrice) && optionPrice > 0) {
        return acc + optionPrice;
      }
    }
    return acc;
  }, 0);

  // Her bir optionType için toplam fiyatı güncelle
  optionTypePrices[optionType] = optionTypeTotalPrice;

  // Sayfadaki menü fiyatını güncelle
  updateDisplay();
}
}


function getPanelByType(optionType) {
var optionPanels = document.querySelectorAll('.option-panel');
for (var i = 0; i < optionPanels.length; i++) {
  var panel = optionPanels[i];
  var panelType = panel.getAttribute('data-type');
  if (panelType === optionType) {
    return panel;
  }
}
return null;
}

var menuPrice = parseFloat(document.getElementById('price').textContent);

function getSelectedOptions(optionType) {
  var selectedOptions = [];
  var optionPanel = getPanelByType(optionType);
  if (optionPanel) {
    var selectedOptionElements = optionPanel.querySelectorAll('.form-select option:checked');
    var totalOptionPrice = 0; // Seçeneklerin toplam fiyatını saklayacak değişken

    selectedOptionElements.forEach(function(selectedOption) {
      var optionText = selectedOption.textContent;
      var optionPrice = parseFloat(selectedOption.value);
      if (!isNaN(optionPrice) && optionPrice > 0) {
        var isAlreadyAdded = selectedOptions.some(function(option) {
          return option.includes(optionText);
        });

        if (!isAlreadyAdded) {
          selectedOptions.push(optionText + " - " + optionPrice.toFixed(2) + " TL");
        }

        // Seçenek fiyatını toplam seçenek fiyatına ekleyin
        totalOptionPrice += optionPrice;
      }
    });

    // Menü fiyatını güncelleyin
    menuPrice = basePrice * quantity + totalOptionPrice;

    // Güncellenmiş menü fiyatını konsola yazdırın
    console.log("Güncellenmiş menü fiyat:", menuPrice.toFixed(2));
  }

  // Seçili seçenekleri döndür
  console.log("Seçili seçenekler:", selectedOptions);
  return selectedOptions;
}

function calculateTotalOptionsPrice() {
  var optionTypes = ['patates', 'icecek', 'sossecim', 'promosyon', 'promosyontatli'];
  var totalOptionsPrice = 0;
  
  optionTypes.forEach(function(optionType) {
      totalOptionsPrice += calculateOptionPrice(optionType);
  });
  
  return totalOptionsPrice;
}


function updateTotalPriceWithSelectedOptions() {
  var totalPrice = parseFloat(price); // Menü fiyatıyla başlayın

  // Her bir seçili seçenek için fiyatı toplam fiyata ekleyin
  var selectedOptions = document.querySelectorAll('.form-select option:checked');
  selectedOptions.forEach(function(option) {
    var optionPrice = parseFloat(option.value);
    if (!isNaN(optionPrice) && optionPrice > 0) {
      totalPrice += optionPrice;
    }
  });

  // Toplam fiyatı güncelleyin
  var totalPriceElement = document.getElementById('totalPrice');
  if (totalPriceElement) {
    totalPriceElement.textContent = totalPrice.toFixed(2) + " TL";
  }
}
function addToCart() {
  var currentOptions = getAllSelectedOptions();
  var peynirCount = parseInt(document.getElementById('quantityPeynir1').textContent) + parseInt(document.getElementById('quantityPeynir2').textContent);
  var totalOptionsPrice = calculateTotalOptionsPrice(); // Seçeneklerin toplam fiyatını al
  var totalPrice = basePrice * quantity + totalOptionsPrice; // Menü fiyatı ve seçeneklerin toplam fiyatını topla
  
  // totalPrice değişkeninin değerini kontrol et, eğer NaN ise uygun bir mesaj göster
  if (isNaN(totalPrice)) {
    alert("Sepete eklemek için en az bir seçenek seçmelisiniz.");
    console.error("Total price is NaN. Base price:", basePrice, "Quantity:", quantity, "Total options price:", totalOptionsPrice);
    return;
  }

  var optionsString = currentOptions.join(', ');
    
  // Kullanıcıyı sepetim.html sayfasına yönlendir
  window.location.href = '/sepetim?title=' + encodeURIComponent(title) + '&total_price=' + encodeURIComponent(totalPrice.toFixed(2)) + '&options=' + encodeURIComponent(optionsString);

  // Sepete eklendikten sonra seçimleri ve menü fiyatını sıfırla
  clearSelections();

  // Sepetteki toplam fiyatı güncelle
  updateTotalPriceWithSelectedOptions();
}
function addSelectedOption(option) {
  selectedOptions.push(option);
}
// OPTİONS KISMI SEPETİM.HTML KISMINA GÖNDERİLECEK ONLAR BOZULDU.
// SEPETİM KISMI KOMPLE TAMAMLANACAK


function calculateOptionsTotalPrice(selectedOptions) {
  var totalPrice = 0;

  // Her bir seçeneğin fiyatını toplam fiyata ekleyin
  selectedOptions.forEach(function(option) {
    // option nesnesinin fiyatını totalPrice'a ekleyin
    totalPrice += parseFloat(option.price);
  });

  return totalPrice;
}

// Sepete ekle kısmına bastığında seçimleri ve menü fiyatını sıfırlama kısmı
function clearPeynirQuantities() {
var quantityPeynir1Element = document.getElementById('quantityPeynir1');
var quantityPeynir2Element = document.getElementById('quantityPeynir2');
var infoText1Element = document.getElementById('infoText1');
var infoText2Element = document.getElementById('infoText2');

if (quantityPeynir1Element) {
  quantityPeynir1Element.textContent = '0';
}

if (quantityPeynir2Element) {
  quantityPeynir2Element.textContent = '0';
}

if (infoText1Element) {
  infoText1Element.textContent = '';
}

if (infoText2Element) {
  infoText2Element.textContent = '';
}
}



function clearSelections() {
quantity = 1;
menuPrice = basePrice;
selectedOptions = [];

// Her bir optionType için toplam fiyatı sıfırla
for (var optionType in optionTypePrices) {
  optionTypePrices[optionType] = 0;
}

// Tüm panel seçimlerini sıfırla
var optionPanels = document.querySelectorAll('.form-select');
optionPanels.forEach(function (panel) {
  panel.selectedIndex = 0;
});

// Peynir sayılarını sıfırla
clearPeynirQuantities();

updateDisplay(); // Görüntüyü güncelle
}
// -----------


function updateDisplay() {
var displayQuantity = document.getElementById('quantity');
var displayPrice = document.querySelector('.price-text');

displayQuantity.textContent = quantity;
displayPrice.textContent = (menuPrice * quantity).toFixed(2) + " TL";
}


function calculateTotalPrice() {
var totalPrice = basePrice * quantity;

for (var optionType in optionTypePrices) {
  totalPrice += optionTypePrices[optionType];
}

document.getElementById('price').textContent = totalPrice.toFixed(2) + " TL";
return totalPrice;
}
function updateInfo(quantity, infoTextElement, cheesePrice) {
var totalPrice = (cheesePrice * quantity).toFixed(2); // Peşin toplam fiyat

// NaN kontrolü cheesePrice üzerinden yapılıyor
if (!isNaN(cheesePrice)) {
    infoTextElement.textContent = "+ " + totalPrice + " TL";
} else {
    infoTextElement.textContent = "+ 0.00 TL";
}

// Her bir peynir tipinin toplam fiyatını peynirTotalPrice'e ekle
peynirTotalPrice += cheesePrice * quantity;

// Sayfadaki görüntüyü güncelleyin
updateDisplay();
}



function clearSelectedOptions(optionType) {
var optionPanel = getPanelByType(optionType);
if (optionPanel) {
  var selectedOptions = optionPanel.querySelectorAll('.form-select option:checked');
  selectedOptions.forEach(function (option) {
    option.selected = false;
  });
}
}


window.location.href = "sepetim.html";
    </script>
    <script
type="text/javascript"
src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.umd.min.js"
></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
crossorigin="anonymous"></script>

</body>
</html>